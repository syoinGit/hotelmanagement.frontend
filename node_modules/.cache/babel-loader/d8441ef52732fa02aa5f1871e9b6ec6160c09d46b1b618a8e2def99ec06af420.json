{"ast":null,"code":"var _jsxFileName = \"/Users/agasa/hotel-front/src/components/SearchGuestPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport EditGuestModal from './EditGuestModal';\nimport EditReservationModal from './EditReservationModal';\nimport EditSearchResultModal from './EditSearchResultModal';\nimport axios from 'axios';\nimport './SearchGuestPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchGuestPage = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    id: '',\n    name: '',\n    kanaName: '',\n    phone: ''\n  });\n  const [results, setResults] = useState([]);\n  const [error, setError] = useState(null);\n  const [modalData, setModalData] = useState(null);\n  const [modalType, setModalType] = useState(null);\n  const [isModalOpen, setModalOpen] = useState(false);\n  const [showOnlyUncheckedIn, setShowOnlyUncheckedIn] = useState(false);\n  const handleEditClick = (data, type) => {\n    setModalData(data); // item（全体）または reservation\n    setModalType(type);\n    setModalOpen(true);\n  };\n  const handleCloseModal = () => {\n    setModalOpen(false);\n    setModalData(null);\n    setModalType(null);\n  };\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSearch = async () => {\n    try {\n      const params = new URLSearchParams();\n      Object.entries(formData).forEach(([key, value]) => {\n        if (value) params.append(key, value);\n      });\n      const response = await axios.get(`http://localhost:8080/searchGuest?${params.toString()}`);\n      setResults(response.data);\n      setError(null);\n      setModalType('searchResult');\n      setModalOpen(true);\n    } catch (err) {\n      setError('検索に失敗しました');\n      setResults([]);\n    }\n  };\n  const handleToggleUnchecked = () => {\n    setShowOnlyUncheckedIn(!showOnlyUncheckedIn);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"search-title\",\n      children: \"\\u5BBF\\u6CCA\\u8005\\u5358\\u4E00\\u691C\\u7D22\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"id\",\n        placeholder: \"ID\",\n        value: formData.id,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"name\",\n        placeholder: \"\\u540D\\u524D\",\n        value: formData.name,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"kanaName\",\n        placeholder: \"\\u3075\\u308A\\u304C\\u306A\",\n        value: formData.kanaName,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"phone\",\n        placeholder: \"\\u96FB\\u8A71\\u756A\\u53F7\",\n        value: formData.phone,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSearch,\n        children: \"\\u691C\\u7D22\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-options\",\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: showOnlyUncheckedIn,\n          onChange: handleToggleUnchecked\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), \"\\u672A\\u30C1\\u30A7\\u30C3\\u30AF\\u30A4\\u30F3\\u306E\\u4E88\\u7D04\\u306E\\u307F\\u8868\\u793A\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EditSearchResultModal, {\n      results: results,\n      showOnlyUncheckedIn: showOnlyUncheckedIn,\n      onEditClick: handleEditClick,\n      onClose: handleCloseModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"/\",\n      className: \"back-to-home\",\n      children: \"Home\\u306B\\u623B\\u308B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), isModalOpen && modalType === 'guest' && /*#__PURE__*/_jsxDEV(EditGuestModal, {\n      guestDetail: modalData,\n      onClose: handleCloseModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this), isModalOpen && modalType === 'reservation' && /*#__PURE__*/_jsxDEV(EditReservationModal, {\n      reservation: modalData,\n      onClose: handleCloseModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchGuestPage, \"yr8KU+3v4K9U5xli1+QSnRjKAGI=\");\n_c = SearchGuestPage;\nexport default SearchGuestPage;\nvar _c;\n$RefreshReg$(_c, \"SearchGuestPage\");","map":{"version":3,"names":["React","useState","EditGuestModal","EditReservationModal","EditSearchResultModal","axios","jsxDEV","_jsxDEV","SearchGuestPage","_s","formData","setFormData","id","name","kanaName","phone","results","setResults","error","setError","modalData","setModalData","modalType","setModalType","isModalOpen","setModalOpen","showOnlyUncheckedIn","setShowOnlyUncheckedIn","handleEditClick","data","type","handleCloseModal","handleChange","e","target","value","handleSearch","params","URLSearchParams","Object","entries","forEach","key","append","response","get","toString","err","handleToggleUnchecked","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","onClick","checked","onEditClick","onClose","href","guestDetail","reservation","_c","$RefreshReg$"],"sources":["/Users/agasa/hotel-front/src/components/SearchGuestPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport EditGuestModal from './EditGuestModal';\nimport EditReservationModal from './EditReservationModal';\nimport EditSearchResultModal from './EditSearchResultModal';\nimport axios from 'axios';\nimport './SearchGuestPage.css';\n\nconst SearchGuestPage = () => {\n  const [formData, setFormData] = useState({\n    id: '',\n    name: '',\n    kanaName: '',\n    phone: ''\n  });\n  const [results, setResults] = useState([]);\n  const [error, setError] = useState(null);\n  const [modalData, setModalData] = useState(null);\n  const [modalType, setModalType] = useState(null);\n  const [isModalOpen, setModalOpen] = useState(false);\n  const [showOnlyUncheckedIn, setShowOnlyUncheckedIn] = useState(false);\n\n  const handleEditClick = (data, type) => {\n    setModalData(data); // item（全体）または reservation\n    setModalType(type);\n    setModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setModalOpen(false);\n    setModalData(null);\n    setModalType(null);\n  };\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSearch = async () => {\n    try {\n      const params = new URLSearchParams();\n      Object.entries(formData).forEach(([key, value]) => {\n        if (value) params.append(key, value);\n      });\n\n      const response = await axios.get(`http://localhost:8080/searchGuest?${params.toString()}`);\n      setResults(response.data);\n      setError(null);\n      setModalType('searchResult');\n      setModalOpen(true);\n    } catch (err) {\n      setError('検索に失敗しました');\n      setResults([]);\n    }\n  };\n\n  const handleToggleUnchecked = () => {\n    setShowOnlyUncheckedIn(!showOnlyUncheckedIn);\n  };\n\n  return (\n    <div className=\"search-container\">\n      <h2 className=\"search-title\">宿泊者単一検索</h2>\n      <div className=\"search-form\">\n        <input name=\"id\" placeholder=\"ID\" value={formData.id} onChange={handleChange} />\n        <input name=\"name\" placeholder=\"名前\" value={formData.name} onChange={handleChange} />\n        <input name=\"kanaName\" placeholder=\"ふりがな\" value={formData.kanaName} onChange={handleChange} />\n        <input name=\"phone\" placeholder=\"電話番号\" value={formData.phone} onChange={handleChange} />\n        <button onClick={handleSearch}>検索</button>\n      </div>\n      <div className=\"filter-options\">\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={showOnlyUncheckedIn}\n            onChange={handleToggleUnchecked}\n          />\n          未チェックインの予約のみ表示\n        </label>\n      </div>\n      <EditSearchResultModal\n        results={results}\n        showOnlyUncheckedIn={showOnlyUncheckedIn}\n        onEditClick={handleEditClick}\n        onClose={handleCloseModal}\n      />\n      {error && <p className=\"error-message\">{error}</p>}\n      <a href=\"/\" className=\"back-to-home\">Homeに戻る</a>\n\n      {isModalOpen && modalType === 'guest' && (\n        <EditGuestModal\n          guestDetail={modalData}\n          onClose={handleCloseModal}\n        />\n      )}\n      {isModalOpen && modalType === 'reservation' && (\n        <EditReservationModal\n          reservation={modalData}\n          onClose={handleCloseModal}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default SearchGuestPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}